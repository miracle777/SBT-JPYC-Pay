# セキュリティ重視の配布・運用ガイド

## 🔐 セキュリティ考慮事項

### 現在の課題
- **Pinata APIキー**: ソースコードに直接埋め込まれている
- **公開リスク**: Webで配布すると第三者にAPIキーが露出
- **コスト問題**: 他人のPinata使用料が発生する可能性

### 推奨配布方法

#### ✅ 方法1: ローカルセットアップ（推奨）
```bash
# 各店舗・組織で個別セットアップ
git clone https://github.com/miracle777/SBT-JPYC-Pay.git
cd SBT-JPYC-Pay
npm install
npm run dev
```

**メリット:**
- APIキーは各自設定
- 完全なプライベート環境
- カスタマイズ自由

#### ✅ 方法2: フォーク後プライベート運用
```bash
# GitHub/GitLabでフォーク
# プライベートリポジトリとして運用
# 組織内でのみ共有
```

#### ❌ 避けるべき: 公開Web配布
- Vercel、Netlify等での直接配布
- 公開URLでの運用
- APIキー込みでの公開

---

## ⚙️ 動的設定機能の実装

### 設定画面の要件
- Pinata API設定の動的変更
- ローカルストレージでの安全保存
- 設定状況の視覚的確認
- テスト接続機能

---

## 📋 配布チェックリスト

### セキュリティチェック
- [ ] APIキーがソースコードから除外されている
- [ ] 設定画面で動的設定が可能
- [ ] ローカルストレージの暗号化（オプション）
- [ ] 権限の最小化設定

### 機能チェック  
- [ ] オフライン機能が正常動作
- [ ] PWAインストールが可能
- [ ] データエクスポート/インポートが動作
- [ ] 各ブラウザでの動作確認

### ドキュメント
- [ ] セットアップガイドの作成
- [ ] セキュリティガイドラインの明記
- [ ] トラブルシューティング情報
- [ ] 利用規約・免責事項

---

## 🚀 今後の実装予定

1. **設定画面の実装**（次のタスク）
2. **APIキー管理の強化**
3. **暗号化オプション**
4. **エンタープライズ向け機能**

---

*このガイドは、安全で持続可能な配布を実現するための指針です。*